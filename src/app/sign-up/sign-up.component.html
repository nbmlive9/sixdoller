<div class="dashboard-container">
  <!-- Top Header -->
 <app-header></app-header>

  <!-- Signup Form Card -->
  <div class="register-container mt-5">
    <div class="register-card animate__animated animate__fadeInUp">
      <!-- Compact Activation Fund Card -->
<div class="highlight-fund-small animate__animated animate__fadeInDown">
  <h5>Activation Fund</h5>
  <h3>{{ pfdata?.actwallet | currency:'USD':true:'1.2-2' }}</h3>
</div>

      <h2 class="text-center mb-3">User Registration</h2>

      <form [formGroup]="form" (ngSubmit)="userSubmit()">
        <!-- Sponsor ID -->
        <div class="form-group mb-3">
          <label>Sponsor ID *</label>
          <input type="text" class="form-control" formControlName="sponcerid" placeholder="Enter Sponsor ID" />
          <small class="text-info" *ngIf="idselectmsg">{{ idselectmsg }}</small>
           <small class="text-danger" *ngIf="errorMessage">{{ errorMessage }}</small>
          <div class="invalid-feedback d-block" *ngIf="form.get('sponcerid')?.touched && form.get('sponcerid')?.invalid">Sponsor ID is required</div>
        </div>

        <!-- Name -->
        <div class="form-group mb-3">
          <label>Name *</label>
          <input type="text" class="form-control" placeholder="Enter your name" formControlName="name" />
          <div class="invalid-feedback d-block" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">Name is required</div>
        </div>

        <!-- Email -->
        <div class="form-group mb-3">
          <label>Email *</label>
          <input type="email" class="form-control" placeholder="Enter your email" formControlName="email" />
          <div class="invalid-feedback d-block" *ngIf="form.get('email')?.touched && form.get('email')?.invalid">Enter valid email</div>
        </div>

       <button class="btn-register w-100 mt-2"
        type="submit"
        [disabled]="form.invalid || loading || errorMessage">
  <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
  {{ loading ? 'Processing...' : 'Register Now' }}
</button>

      </form>
    </div>
  </div>

  <!-- âœ… Success Modal -->
  
<!-- âœ… Success Modal -->
<div class="modal fade" id="successModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-3">

      <!-- âœ… Loader Before Data Arrives -->
      <div *ngIf="loading">
        <h4 class="text-success">Registration Processing...</h4>

        <div class="my-3">
          <div class="spinner-border text-success"></div>
          <p class="mt-2">Please wait, fetching your registration details...</p>
        </div>
      </div>

      <!-- âœ… Data Appears After API Response -->
      <div *ngIf="!loading && udata">
        <h4 class="text-success">Registration Successful ðŸŽ‰</h4>
        <p class="mt-2">Here are your details:</p>

        <p><strong>Reg ID:</strong> {{ udata.regid }}</p>
        <p><strong>Password:</strong> {{ udata.password }}</p>
        <p><strong>Name:</strong> {{ udata.name }}</p>
        <p><strong>Email:</strong> {{ udata.email }}</p>
        <p><strong>Sponsor ID:</strong> {{ udata.sponcerid }}</p>
        <p><strong>Sponsor Name:</strong> {{ udata.sname }}</p>
        <p><strong><a href="https://yohanrise.com/" target="_blank">www.yohanrise.com</a></strong></p>
        <!-- <button class="btn btn-success mt-3" (click)="successModal.hide()">OK</button> -->
         <button class="btn btn-success mt-3" (click)="refreshPage()">OK</button>
      </div>

    </div>
  </div>
</div>


</div>

 <app-footer></app-footer>